<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"
      xmlns:ng="http://typo3.org/ns/Google/AngularJs/ViewHelpers"
      xmlns:twbs="http://typo3.org/ns/Twitter/Bootstrap/ViewHelpers"
      xmlns:oa="http://typo3.org/ns/OpenAgenda/Application/ViewHelpers"
      xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers">

<f:layout name="Content"></f:layout>

<!-- Page Content ------------------------------------------- -->
<f:section name="Content">
    <f:render partial="Common/Breadcrumb"></f:render>

    <div class="page-content">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Meeting Übersicht</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Kommende Meetings
                    </div>
                    <!-- /.panel-heading -->
                    <div class="panel-body">

                        <form role="form">
                            <div class="form-group">
                                <label>Suche</label>
                                <div class="input-group">
                                    <input ng-model="searchText "type="text" class="form-control" placeholder="Suche">
                                    <span class="input-group-addon"><i class="fa fa-search"></i></span>
                                </div>
                            </div>
                            <div>
                                <div class="form-group">
                                    <label>Datum Anfang</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="startDate" is-open="opened" init-date="initDate" min-date="minDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Datum Ende</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="endDate" is-open="opened2" min-date="minDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                            </div>
                        </form>

                        <div class="table-responsive">
                            <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                <thead>
                                <tr>
                                    <th>Datum / Uhrzeit</th>
                                    <th>Meeting</th>
                                    <th>Teilnehmer</th>
                                    <th>Status</th>
                                    <th>Aktionen</th>
                                </tr>
                                </thead>
                                <tbody>

                                <tr class="odd gradeX" ng-repeat="meeting in meetingList | upComing:'scheduledStartDate':startDate:endDate | orderBy:'+scheduledStartDate +title'  | filter:searchText">
                                    <td>{{ (meeting.scheduledStartDate | date:"dd/MM/yyyy HH:mm") || 'Kein Datum festgelegt' }} Uhr</td>

                                    <td>{{meeting.title}}</td>
                                    <td>
                                        {{meeting.invitationStatus.committed}} <img src="../../../Public/Images/invitee_unkown.png"/>&nbsp;
                                        {{meeting.invitationStatus.canceled}} <img src="../../../Public/Images/invitee_agreed.png"/>&nbsp;
                                        {{meeting.invitationStatus.open}} <img src="../../../Public/Images/invitee_canceled.png"/>
                                    </td>
                                    <td meeting-status="true"> </td>
                                    <td>
                                        <a href="/#meeting/show/{{meeting.__identity}}">Anzeigen</a>
                                        <a ng-href="/#meeting/show/{{meeting.__identity}}"><img src="../../../Public/Images/meeting_show.png"/> </a>&nbsp;
                                        <a href="/#meeting/show/{{meeting.__identity}}">Editieren</a>
                                        <a ng-href="/#meeting/show/{{meeting.__identity}}"><img src="../../../Public/Images/meeting_edit.png"/></a>&nbsp;
                                        <a href="/#meeting/start/{{meeting.__identity}}">Durchführen</a>
                                        <a ng-href="/#meeting/start/{{meeting.__identity}}"><img src="../../../Public/Images/meeting_exec.png"/></a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- /.table-responsive -->
                    </div>
                    <!-- /.panel-body -->
                </div>
            </div>
        </div>
    </div>
    <!-- DataTables JavaScript -->
    <script src="../../../Public/Scripts/lib/plugins/dataTables/jquery.dataTables.js"></script>
    <script src="../../../Public/Scripts/lib/plugins/dataTables/dataTables.bootstrap.js"></script>

    <!-- Page-Level Demo Scripts - Tables - Use for reference
    <script>
        $(document).ready(function () {
            $('#dataTables-example').dataTable();
        });
    </script>-->
</f:section>
<!-- Page Content ------------------------------------------- -->
</html>